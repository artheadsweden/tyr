{
  "schema_version": "1.0",
  "intent_id": "intent-KERNEL-CI-REPLAY-002",
  "status": "closed",
  "goal": "Make CI commit replay bootstrap-aware and make switch detection pointer-based; add legacy intent.status mapping.",
  "kernel_upgrade": {
    "allow_purple_paths": [
      ".intent-ops/framework/tools/validate.py"
    ]
  },
  "scope": {
    "allowed_paths": [
      ".intent-ops/**",
      ".github/agents/intentops.*.agent.md"
    ],
    "forbidden_paths": [
      ".intent-ops/framework/**"
    ]
  },
  "operations": {
    "allowed": [
      "create_files",
      "create_folders",
      "edit_files"
    ],
    "forbidden": [
      "refactor",
      "formatting_only_changes",
      "dependency_changes",
      "runtime_behavior_changes"
    ]
  },
  "acceptance_criteria": [
    "CI replay treats bootstrap initialisation commits specially and reports bootstrap_initialisation per commit",
    "Switch transaction strictness triggers only when current-intent pointers change (active_intent_id or active_pack_path)",
    "Legacy intent.status values are mapped to 'open' with warnings instead of failing"
  ]
}
